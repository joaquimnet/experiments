<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="normalize.css" />
    <link rel="stylesheet" href="style.css" />
    <title>css playground - animations</title>
  </head>
  <body>
    <div class="container">
      <div class="box">
        <span class="caption animated fade" id="fade">Fade In</span>
        <button class="show-button" onclick="startAnimation('fade')">Show</button>
      </div>
      <div class="box">
        <span class="caption animated rotate" id="rotate">Rotate</span>
        <button class="show-button" onclick="startAnimation('rotate')">Show</button>
      </div>
      <div class="box">
        <span class="caption animated">Caption3</span>
        <button class="show-button">Show</button>
      </div>
      <div class="box">
        <span class="caption animated">Caption4</span>
        <button class="show-button">Show</button>
      </div>
      <div class="box">
        <span class="caption animated">Caption5</span>
        <button class="show-button">Show</button>
      </div>
    </div>
    <script>
      function startAnimation(name) {
        console.log('Animate', name);
        const caption = document.querySelector('#' + name);
        if (caption) {
          caption.classList.remove('animated');
          caption.classList.remove('on');
          setTimeout(() => {
            caption.classList.add('animated');
            caption.classList.add('on');
          }, 200);
        }
      }
      // document.querySelectorAll('.caption').forEach(element =>
      //   element.addEventListener('transitionend', e => {
      //     e.target.classList.remove('on');
      //   })
      // );
    </script>
  </body>
</html>
